# Product Requirements Document (PRD)
## 네이버 블로그 자동화 시스템 v2.0

**작성일:** 2026-02-24
**작성자:** 호랑이 PM
**프로젝트 코드명:** NaverBlogAutoPilot
**버전:** 2.0

---

## 📋 Executive Summary

silmu.kr 웹사이트로의 트래픽 유입을 목적으로 하는 네이버 블로그 자동화 시스템입니다. 교육행정·지방자치단체 실무자를 타겟으로 하며, SEO/GEO/AEO 최적화와 AI 휴먼라이징을 통해 고품질 콘텐츠를 자동 생성·발행합니다.

**핵심 차별점:**
- ✅ **초저비용 운영**: 월 5,000원 예산으로 90~100개 포스트 생성 (프롬프트 캐싱 + 무료 이미지)
- ✅ **완전 자동화**: 크롤링 → 생성 → 검증 → 발행 → 모니터링 전 과정 자동화
- ✅ **법적 정확성**: 5개 정부 사이트 실시간 검증 (국가법령정보, 행안부, 조달청, 교육청, 지자체)
- ✅ **어뷰징 방지**: 일일 2개, 주간 5개 제한 + 랜덤 발행 시간

---

## 🎯 Business Goals

### 1. Primary Goal
- **silmu.kr 트래픽**: 월 10,000 → 50,000 방문자 (5배 증가, 6개월 내)
- **네이버 검색 상위노출**: 타겟 키워드 20개 중 15개 1페이지 진입 (3개월 내)

### 2. Secondary Goals
- **블로그 구독자**: 500명 달성 (6개월 내)
- **평균 체류시간**: 3분 이상 유지
- **이탈률**: 60% 이하 달성

### 3. Technical Goals
- **비용 효율성**: 포스트당 60원 이하 유지
- **품질 기준**: SEO 점수 90점 이상, 휴먼 점수 95점 이상, 표절률 10% 이하
- **가동률**: 99% 이상 (월 1회 이하 장애)

---

## 👥 User Personas

### Persona 1: 학교 행정직 실무자 (35세, 여성)
- **Pain Point**: 복잡한 계약/회계 법령을 빠르게 찾아야 함
- **Needs**: 실무에 바로 적용 가능한 정확한 정보
- **Behavior**: 네이버 검색 → 블로그 글 확인 → silmu.kr 방문

### Persona 2: 지자체 공무원 (42세, 남성)
- **Pain Point**: 법령 개정사항을 놓쳐서 감사 지적 받음
- **Needs**: 최신 법령 정보와 실무 가이드
- **Behavior**: 업무 중 검색 → 북마크 → 주기적 재방문

---

## 📦 Features & Requirements

### ✅ Phase 1: 시스템 안정화 및 비용 최적화 (완료)

**구현 완료 항목:**
- [x] 프롬프트 캐싱 구현 (90% 비용 절감)
- [x] Gemini 2.5 Flash Image 무료 이미지 생성
- [x] 이미지 자동 삽입 (썸네일 + 본문)
- [x] SEO/휴먼/표절 검증 시스템
- [x] 법령 인용 정확성 검증

**검증 결과:**
- SEO 점수: 90점 (목표 70점 이상)
- 휴먼 점수: 98/100점 (목표 90점 이상)
- 표절률: 7.48% (목표 30% 이하)
- 비용: 첫 포스트 61원, 이후 54원 (목표 370원 이하)
- 이미지: 무료 생성 (목표 달성)

---

### 🚧 Phase 2: UI 시스템 구축 (예정)

**목표:** 직관적인 웹/데스크톱 하이브리드 UI 제공

**2.1 대시보드 (Priority: High)**
- [ ] 실시간 통계 (발행 수, 조회수, 순위, 비용)
- [ ] 주요 지표 시각화 (차트: 일별/주별/월별)
- [ ] 알림 센터 (오류, 순위 변동, 예산 초과 경고)
- [ ] 빠른 액션 버튼 (즉시 생성, 긴급 중단, 로그 보기)

**2.2 워크플로우 관리 (Priority: High)**
- [ ] 생성 프로세스 진행 상황 (크롤링 → 생성 → 검증 → 발행)
- [ ] 승인 대기 큐 (자동 승인 OFF 시)
- [ ] 생성 내역 (제목, SEO 점수, 상태, 작업 시간)
- [ ] 필터링 및 검색 (날짜, 카테고리, 키워드, 상태)

**2.3 스케줄 설정 (Priority: Medium)**
- [ ] 크롤링 스케줄 (시간, 주기)
- [ ] 발행 스케줄 (시간대, 요일, 카테고리 순환)
- [ ] 모니터링 스케줄 (순위 체크 시간)
- [ ] 캘린더 뷰 (월별 발행 계획)

**2.4 콘텐츠 관리 (Priority: Medium)**
- [ ] 포스트 목록 (상태별: 초안, 승인, 발행, 실패)
- [ ] 미리보기 (HTML 렌더링)
- [ ] 수동 편집 (제목, 본문, 이미지)
- [ ] 재생성 버튼 (SEO 점수 낮을 때)

**2.5 설정 (Priority: Low)**
- [ ] API 키 관리 (Anthropic, Gemini, Naver)
- [ ] 발행 제한 설정 (일일/주간 최대 수)
- [ ] 품질 기준 설정 (최소 SEO 점수, 표절 임계값)
- [ ] 알림 설정 (이메일, 슬랙, 디스코드)

**기술 스택 (UI):**
- **Web Framework**: Flask (Python 기반, 기존 코드 재사용)
- **Frontend**: Bootstrap 5 + Alpine.js (경량, 빠른 개발)
- **Desktop**: Electron (선택적, 웹 우선)
- **Real-time**: Server-Sent Events (SSE) 또는 WebSocket

---

### 🔒 Phase 3: 법적 검증 자동화 (예정)

**목표:** 5개 정부 사이트 실시간 크롤링 및 법령 검증

**3.1 검증 시스템 (Priority: High)**
- [ ] 국가법령정보센터 API 연동
- [ ] 행정안전부 공식 사이트 크롤링
- [ ] 조달청 계약 관련 규정 크롤링
- [ ] 지자체/교육청 지침 크롤링 (셀레니움)
- [ ] 법령 변경 감지 및 자동 알림

**3.2 검증 프로세스 (Priority: High)**
- [ ] 본문에서 법령 인용 추출 (정규표현식)
- [ ] 각 법령의 최신 조문 확인
- [ ] 불일치 발견 시 자동 수정 또는 플래그
- [ ] 검증 이력 저장 (날짜, 결과, 변경사항)

**3.3 자동 업데이트 (Priority: Medium)**
- [ ] 법령 개정 감지 시 기존 포스트 자동 업데이트
- [ ] 변경사항 표시 (개정일, 변경 내용)
- [ ] 재발행 여부 자동 판단

**기술 스택 (법적 검증):**
- **API**: requests, aiohttp (비동기)
- **크롤링**: BeautifulSoup4, Selenium (동적 페이지)
- **텍스트 처리**: re (정규표현식), difflib (차이 비교)

---

### 🎨 Phase 4: 시각 개선 (예정)

**목표:** 가독성 및 사용자 경험 향상

**4.1 색상 시스템 (Priority: Medium)**
- [ ] 네이버 블로그 스킨 분석 및 최적 팔레트 선정
- [ ] 중요 키워드 자동 하이라이팅 (빨강/파랑/녹색)
- [ ] H2/H3 배경색 차별화
- [ ] 인용구 스타일링

**4.2 테이블 강제 삽입 (Priority: Medium)**
- [ ] 각 포스트에 최소 1개 테이블 필수
- [ ] 테이블 주제 자동 생성 (비교, 절차, 한도액 등)
- [ ] 반응형 테이블 (모바일 최적화)

**4.3 이미지 최적화 (Priority: Low)**
- [ ] 이미지 압축 (PNG → WebP, 200KB 이하)
- [ ] 대체 텍스트(alt) 자동 생성 (SEO)
- [ ] 이미지 캐싱 (중복 생성 방지)

---

### 🤖 Phase 5: AEO 최적화 (예정)

**목표:** AI 챗봇 및 음성 검색 최적화

**5.1 구조화된 데이터 (Priority: High)**
- [ ] Schema.org 마크업 (Article, HowTo, FAQPage)
- [ ] FAQ 섹션 자동 생성 (Claude API)
- [ ] 단계별 가이드 (HowTo 스키마)

**5.2 음성 검색 최적화 (Priority: Medium)**
- [ ] 자연어 질문 형식 답변 ("~은 무엇인가요?")
- [ ] 간결한 요약 (30자 이내 핵심 답변)
- [ ] 숫자/날짜 명시 (음성 읽기 최적화)

**5.3 AI 챗봇 대응 (Priority: Medium)**
- [ ] Claude AI, ChatGPT, Gemini 검색 대응
- [ ] 네이버 AI 서치 최적화
- [ ] 구글 AI Overviews 최적화

---

## 🏗️ Technical Architecture

### 시스템 구성도

```
┌─────────────────────────────────────────────────────────┐
│                    UI Layer (Phase 2)                    │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │  대시보드    │  │  워크플로우  │  │  설정        │  │
│  │  (Flask)     │  │  (SSE/WS)    │  │  (API 관리)  │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                   Business Logic Layer                   │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │ Scheduler    │  │ Generator    │  │ Publisher    │  │
│  │ (크롤링/발행)│  │ (콘텐츠생성) │  │ (네이버 API) │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │ Quality      │  │ Legal Verify │  │ Monitor      │  │
│  │ (SEO/휴먼)   │  │ (법령검증)   │  │ (순위체크)   │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                    Data Layer                            │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │  SQLite DB   │  │  File Cache  │  │  Logs        │  │
│  │  (포스트)    │  │  (이미지)    │  │  (감사)      │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│                  External Services                       │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │ Claude API   │  │ Gemini API   │  │ Naver APIs   │  │
│  │ (콘텐츠)     │  │ (이미지)     │  │ (검색/블로그)│  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
└─────────────────────────────────────────────────────────┘
```

### 기술 스택 상세

**Backend:**
- Python 3.11+
- Flask (Web UI)
- SQLite (Database)
- APScheduler (스케줄링)
- aiohttp (비동기 HTTP)

**AI/ML:**
- Anthropic Claude Sonnet 4.5 (콘텐츠 생성, 프롬프트 캐싱)
- Google Gemini 2.5 Flash Image (무료 이미지 생성)

**크롤링:**
- BeautifulSoup4 (정적 페이지)
- Selenium (동적 페이지)
- requests / aiohttp (HTTP)

**품질 관리:**
- difflib (표절 검사)
- re (SEO 분석, 법령 추출)

**Frontend (Phase 2):**
- Bootstrap 5 (UI 프레임워크)
- Alpine.js (경량 JS)
- Chart.js (데이터 시각화)

---

## 💰 Cost Structure

### API 비용 (월간 기준)

| 항목 | 단가 | 월 사용량 | 월 비용 |
|------|------|-----------|---------|
| **Claude Sonnet 4.5** | 54원/포스트 | 90개 | 4,860원 |
| **Gemini Image** | 무료 | 180개 (썸네일+본문) | 0원 |
| **Naver Search API** | 무료 | 무제한 | 0원 |
| **예비비** | - | - | 140원 |
| **총계** | - | - | **5,000원** |

### 비용 최적화 전략

1. **프롬프트 캐싱**: 90% 비용 절감 (3,700원 → 370원/포스트)
2. **Gemini 무료 모델**: DALL-E 대비 100% 절감 (1,080원 → 0원)
3. **5분 이내 재생성**: 캐시 유효 기간 내 재생성으로 추가 비용 없음
4. **배치 처리**: 한 번에 여러 포스트 생성하여 캐시 히트율 극대화

### 비용 모니터링

- Anthropic Console에서 일일 사용량 확인
- 주간 리포트: 예산 대비 실제 사용액
- 초과 시 자동 알림 (이메일/슬랙)

---

## 📊 Success Metrics

### KPI (핵심 성과 지표)

**1. 트래픽 지표**
- 네이버 블로그 일 방문자: 300명 이상 (현재 ~50명)
- silmu.kr 월 유입: 5,000명 이상 (블로그 경유)
- 평균 체류시간: 3분 이상

**2. SEO 지표**
- 타겟 키워드 1페이지 진입률: 75% (15/20개)
- 평균 검색 순위: 5위 이내
- 네이버 VIEW 탭 노출률: 80% 이상

**3. 품질 지표**
- SEO 점수 평균: 90점 이상
- 휴먼 점수 평균: 95점 이상
- 표절률 평균: 10% 이하
- 법령 정확도: 100% (오류 0건)

**4. 운영 지표**
- 월 포스트 발행 수: 90개 이상
- 시스템 가동률: 99% 이상
- 평균 생성 시간: 2분 이내/포스트
- 재생성률: 10% 이하 (SEO 낮음으로 인한)

**5. 비용 지표**
- 포스트당 평균 비용: 60원 이하
- 월 총 비용: 5,000원 이하
- ROI: 트래픽 증가율 × 전환율 > 1,000% (예상)

---

## 📅 Timeline

### Phase 1: 시스템 안정화 (✅ 완료)
- **기간**: 2026-02-24 (1일)
- **완료 항목**: 프롬프트 캐싱, Gemini 이미지, 품질 검증

### Phase 2: UI 시스템 구축
- **기간**: 2주 (2026-02-25 ~ 2026-03-10)
- **Sprint 1 (1주)**: 대시보드 + 워크플로우
- **Sprint 2 (1주)**: 스케줄 설정 + 콘텐츠 관리

### Phase 3: 법적 검증 자동화
- **기간**: 2주 (2026-03-11 ~ 2026-03-24)
- **Sprint 3 (1주)**: API 연동 + 크롤링
- **Sprint 4 (1주)**: 검증 로직 + 자동 업데이트

### Phase 4: 시각 개선
- **기간**: 1주 (2026-03-25 ~ 2026-03-31)
- **Sprint 5**: 색상, 테이블, 이미지 최적화

### Phase 5: AEO 최적화
- **기간**: 1주 (2026-04-01 ~ 2026-04-07)
- **Sprint 6**: Schema.org, FAQ, 음성 검색

**총 개발 기간**: 6주 (1.5개월)
**예상 완료일**: 2026-04-07

---

## ⚠️ Risks & Mitigations

### 1. API 비용 초과 (Risk: High)
**위험**: Claude API 사용량 급증으로 예산 초과
**완화 전략**:
- 일일 사용량 모니터링 및 알림
- 자동 차단 (5,000원 도달 시)
- 프롬프트 캐싱 5분 내 재생성 권장

### 2. 네이버 어뷰징 탐지 (Risk: Medium)
**위험**: 과도한 자동 발행으로 블로그 정지
**완화 전략**:
- 일일 2개, 주간 5개 제한
- 랜덤 발행 시간 (±30분)
- 휴먼라이징 강화 (98점 이상 유지)

### 3. 법령 정보 오류 (Risk: High)
**위험**: 잘못된 법령 인용으로 신뢰도 하락
**완화 전략**:
- 5개 정부 사이트 교차 검증
- 법령 변경 일일 체크
- 불확실한 경우 발행 보류

### 4. 품질 저하 (Risk: Medium)
**위험**: AI 패턴 증가로 SEO/휴먼 점수 하락
**완화 전략**:
- 최소 기준 미달 시 자동 재생성 (최대 3회)
- 주간 품질 리포트 리뷰
- 프롬프트 정기 개선

### 5. 시스템 장애 (Risk: Low)
**위험**: 서버 다운, API 장애
**완화 전략**:
- 로그 모니터링 (에러 즉시 알림)
- 자동 재시도 로직 (3회, 지수 백오프)
- 수동 개입 UI 제공

---

## 🎓 Lessons Learned (Phase 1)

### ✅ 성공 요인
1. **프롬프트 캐싱**: 예상보다 큰 비용 절감 (90%)
2. **Gemini 무료 모델**: 이미지 비용 완전 제거
3. **Rule-based SEO**: API 기반보다 안정적이고 빠름
4. **휴먼라이징**: 98점 달성으로 어뷰징 위험 최소화

### 📝 개선 필요 사항
1. **본문 길이 조절**: 3,731자 → 2,500자 목표로 프롬프트 조정
2. **키워드 밀도**: 1.03% → 1.5~2.5% 범위로 개선
3. **이미지 경로**: 절대 경로 → 상대 경로 또는 URL로 변경 (네이버 블로그 호환성)
4. **테이블 강제 삽입**: 현재 없음 → Phase 4에서 구현

---

## ✅ Acceptance Criteria

Phase 2~5 착수 전 다음 조건을 만족해야 합니다:

1. **Phase 1 검증 완료**
   - [x] 프롬프트 캐싱 정상 작동 확인
   - [x] Gemini 이미지 생성 성공
   - [x] SEO 90점 이상 달성
   - [x] 휴먼 95점 이상 달성
   - [x] 표절 10% 이하 달성

2. **PRD 승인**
   - [ ] 사용자 최종 승인
   - [ ] 우선순위 확정
   - [ ] 예산 확정

3. **Phase 2 착수 조건**
   - [ ] UI 디자인 와이어프레임 승인
   - [ ] 기술 스택 선정 완료
   - [ ] 개발 환경 구축 완료

---

## 📝 Change Log

| 날짜 | 버전 | 변경 내역 |
|------|------|-----------|
| 2026-02-24 | 1.0 | 초안 작성 (호랑이 PM) |
| 2026-02-24 | 2.0 | Phase 1 완료 반영, 비용 구조 업데이트 |

---

## 🤝 Stakeholders

| 역할 | 이름 | 책임 |
|------|------|------|
| Product Owner | seong | 최종 승인, 우선순위 결정 |
| PM (호랑이 PM) | Claude Code | 기획, 일정 관리, 품질 관리 |
| Developer | Claude Code | 구현, 테스트, 배포 |
| QA | 자동화 (Quality Checker) | SEO/휴먼/표절 검증 |

---

## 📞 Contact

- **프로젝트 관리**: Claude Code (호랑이 PM 모드)
- **이슈 트래킹**: GitHub Issues (향후)
- **문서 위치**: `/docs/PRD.md`

---

**문서 상태**: ✅ Phase 1 완료, Phase 2~5 계획 수립 완료
**다음 단계**: PRD 승인 후 Phase 2 (UI 개발) 착수

---

